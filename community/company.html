<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>সংগঠনের তথ্য তালিকা</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
    body{background:#f9f9f9;}
    h1{text-align:center;color:#198754;margin:30px 0;}
    h2.section-title{
        background:#198754;
        color:white;
        padding:8px 15px;
        border-radius:8px;
        margin-top:40px;
        font-size:1.5rem;
    }
    .info-card{
        background:white;
        border-radius:10px;
        padding:20px;
        box-shadow:0 2px 5px rgba(0,0,0,0.1);
        margin-bottom:20px;
        text-align:center;
    }
    .info-card img{
        width:120px;
        height:120px;
        object-fit:cover;
        border-radius:50%;
        margin-bottom:10px;
    }
    .info-card h5{color:#198754;margin-bottom:5px;}
    .info-card p{margin:2px 0;color:#444;}
    .empty-box{
        background:#fff;
        padding:20px;
        border-radius:10px;
        box-shadow:0 2px 5px rgba(0,0,0,0.1);
        color:#888;
        text-align:center;
    }
</style>
</head>
<body>

<div class="container my-4">

    <h1>সংগঠনের তথ্য তালিকা</h1>

    <h2 class="section-title">কার্যনির্বাহী কমিটির আংশিক নাম</h2>
    <div class="row" id="executive"></div>

    <h2 class="section-title">উপদেষ্টা পরিষদের আংশিক নাম</h2>
    <div class="row" id="advisory"></div>

    <h2 class="section-title">দায়িত্ব প্রাপ্ত ব্যক্তি ও মোবাইল নম্বর</h2>
    <div class="row" id="responsible"></div>

    <h2 class="section-title">সহযোগী প্রতিষ্ঠান সমূহ</h2>
    <div id="org" class="mb-4"></div>

    <h2 class="section-title">সিনিয়র সাংবাদিক</h2>
    <div id="journalist" class="mb-4"></div>

    <h2 class="section-title">মানবিক ডাক্তার</h2>
    <div id="doctor" class="mb-4"></div>

    <h2 class="section-title">মানবিক ক্লিনিক</h2>
    <div id="clinic" class="mb-4"></div>

    <h2 class="section-title">স্থায়ী দাতা সদস্য</h2>
    <div id="donor" class="mb-4"></div>

</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyAqhLfmOfmP-_8DOcoEH7Ck7fMF9Id4vJ4",
    authDomain: "earn-project-5f892.firebaseapp.com",
    databaseURL: "https://earn-project-5f892-default-rtdb.firebaseio.com/",
    projectId: "earn-project-5f892",
    storageBucket: "earn-project-5f892.firebasestorage.app",
    messagingSenderId: "8457886057",
    appId: "1:8457886057:web:b5e01d0972d169f47085f8"
};

const app = initializeApp(firebaseConfig);
const db  = getFirestore(app);

async function loadSection(colName, target, isGrid=true){
  const snap = await getDocs(collection(db,colName));
  const el = document.getElementById(target);
  if(snap.empty){
     el.innerHTML = isGrid
       ? `<div class="col-md-4"><div class="empty-box">ডাটা পাওয়া যায়নি</div></div>`
       : `<div class="empty-box">ডাটা পাওয়া যায়নি</div>`;
     return;
  }
  snap.forEach(doc=>{
     const d = doc.data();
     let content = '';
     if(d.photo) content += `<img src="${d.photo}" class="img-fluid mb-2">`;
     content += `<h5>${d.name}</h5>`;
     if(d.role) content += `<p><strong>পদবি:</strong> ${d.role}</p>`;
     if(d.address) content += `<p><strong>ঠিকানা:</strong> ${d.address}</p>`;
     if(d.contact) content += `<p><strong>ফোন / ইমেইল:</strong> ${d.contact}</p>`;
     if(d.joinDate) content += `<p><strong>Join Date:</strong> ${d.joinDate}</p>`;
     if(d.bloodGroup) content += `<p><strong>রক্ত গ্রুপ:</strong> ${d.bloodGroup}</p>`;
     if(d.remarks) content += `<p><strong>Remarks:</strong> ${d.remarks}</p>`;

     if(isGrid){
        el.innerHTML += `<div class="col-md-4 info-card">${content}</div>`;
     } else {
        el.innerHTML += `<div class="info-card mb-2">${content}</div>`;
     }
  });
}

// Load all sections
loadSection("executive","executive");
loadSection("advisory","advisory");
loadSection("responsible","responsible");
loadSection("org","org",false);
loadSection("journalist","journalist",false);
loadSection("doctor","doctor",false);
loadSection("clinic","clinic",false);
loadSection("donor","donor",false);
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>