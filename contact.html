<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>রক্তদান – যোগাযোগ করুন</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
:root{
  --primary:#e63946;--dark:#1d1d1d;--light:#f8f9fa;--gray:#6c757d;
}
*{margin:0;padding:0;box-sizing:border-box;font-family:'Noto Sans Bengali',sans-serif;}
body{background:var(--light);color:var(--dark);line-height:1.6;}
.hero{
  background:linear-gradient(rgba(230,57,70,0.7),rgba(230,57,70,0.7)),
  url('https://images.unsplash.com/photo-1588776814546-ec5c43f3fb91?auto=format&fit=crop&w=1500&q=80') center/cover;
  color:white;text-align:center;padding:100px 20px;
}
.hero h1{font-size:3rem;margin-bottom:20px;}
.hero p{font-size:1.2rem;}
.contact-container{
  display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
  gap:40px;max-width:1200px;margin:60px auto;padding:0 20px;
}
.contact-info,.contact-form{
  background:white;padding:40px;border-radius:20px;
  box-shadow:0 10px 20px rgba(0,0,0,0.1);
}
.contact-info h2,.contact-form h2{font-size:1.8rem;margin-bottom:20px;}
.info-item{display:flex;align-items:center;margin-bottom:20px;}
.info-item i{font-size:24px;color:var(--primary);margin-right:15px;}
.info-item p{color:var(--gray);font-size:1rem;}
.contact-form input,.contact-form textarea{
  width:100%;padding:12px 15px;margin-bottom:20px;border:1px solid #ddd;border-radius:10px;font-size:1rem;transition:border 0.3s;
}
.contact-form input:focus,.contact-form textarea:focus{border:1px solid var(--primary);outline:none;}
.contact-form button{background:var(--primary);color:white;border:none;padding:12px 30px;border-radius:50px;font-size:1rem;cursor:pointer;transition:background 0.3s;width:100%;}
.contact-form button:hover{background:#d62839;}
.map{margin:60px auto;max-width:1200px;padding:0 20px;}
.map iframe{width:100%;height:400px;border:none;border-radius:20px;}
footer{background:var(--dark);color:white;text-align:center;padding:20px;margin-top:40px;}
.success-msg{color:green;margin-top:10px;font-weight:600;}
.error-msg{color:red;margin-top:10px;font-weight:600;}
</style>
</head>
<body>

<!-- Hero Section -->
<section class="hero">
  <h1>যোগাযোগ করুন</h1>
  <p>রক্তদানের বিষয়ে যেকোনো তথ্যের জন্য আমাদের সাথে যোগাযোগ করুন</p>
</section>

<!-- Contact Info + Form -->
<section class="contact-container">
  
  <!-- Contact Info -->
  <div class="contact-info">
    <h2>যোগাযোগের ঠিকানা</h2>
    <div class="info-item">
      <i class="fas fa-map-marker-alt"></i>
      <p id="contactAddress">লোড হচ্ছে…</p>
    </div>
    <div class="info-item">
      <i class="fas fa-phone"></i>
      <p id="contactPhone">লোড হচ্ছে…</p>
    </div>
    <div class="info-item">
      <i class="fas fa-envelope"></i>
      <p id="contactEmail">লোড হচ্ছে…</p>
    </div>
  </div>

  <!-- Contact Form -->
  <div class="contact-form">
    <h2>মেসেজ পাঠান</h2>
    <form id="contactForm">
      <input type="text" id="name" placeholder="আপনার নাম" required>
      <input type="email" id="email" placeholder="ইমেইল ঠিকানা" required>
      <textarea id="message" rows="5" placeholder="আপনার বার্তা" required></textarea>
      <button type="submit">পাঠান</button>
    </form>
    <p id="formMsg"></p>
  </div>

</section>

<!-- Google Map -->
<section class="map">
  <iframe id="googleMap" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3651.9028153538574!2d88.5989!3d24.3740!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMjTCsDIyJzI2LjQiTiA4OMKwMzUnNTYuNCJF!5e0!3m2!1sen!2sbd!4v1234567890" allowfullscreen="" loading="lazy"></iframe>
</section>

<!-- Footer -->
<footer>
  &copy; ২০২৫ রক্তদান ফাউন্ডেশন | সমস্ত অধিকার সংরক্ষিত
</footer>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAqhLfmOfmP-_8DOcoEH7Ck7fMF9Id4vJ4",
  authDomain: "earn-project-5f892.firebaseapp.com",
  databaseURL: "https://earn-project-5f892-default-rtdb.firebaseio.com/",
  projectId: "earn-project-5f892",
  storageBucket: "earn-project-5f892.firebasestorage.app",
  messagingSenderId: "8457886057",
  appId: "1:8457886057:web:b5e01d0972d169f47085f8"
};
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Load contact info
async function loadContactInfo(){
  try {
    const doc = await db.collection('settings').doc('contactInfo').get();
    if(doc.exists){
      const data = doc.data();
      document.getElementById('contactAddress').textContent = data.address || 'ঠিকানা নেই';
      document.getElementById('contactPhone').textContent = data.phone || 'ফোন নেই';
      document.getElementById('contactEmail').textContent = data.email || 'ইমেইল নেই';
      document.getElementById('googleMap').src = data.mapURL || document.getElementById('googleMap').src;
    }
  } catch(err){
    console.error(err);
  }
}
loadContactInfo();

// Contact form submit
const form = document.getElementById('contactForm');
const formMsg = document.getElementById('formMsg');
form.addEventListener('submit', async e=>{
  e.preventDefault();
  formMsg.textContent = '';
  try {
    await db.collection('messages').add({
      name: document.getElementById('name').value,
      email: document.getElementById('email').value,
      message: document.getElementById('message').value,
      createdAt: firebase.firestore.FieldValue.serverTimestamp()
    });
    form.reset();
    formMsg.textContent = '✅ মেসেজ সফলভাবে পাঠানো হয়েছে!';
    formMsg.className = 'success-msg';
  } catch(err){
    console.error(err);
    formMsg.textContent = '❌ মেসেজ পাঠাতে সমস্যা হয়েছে। আবার চেষ্টা করুন।';
    formMsg.className = 'error-msg';
  }
});
</script>
</body>
</html>